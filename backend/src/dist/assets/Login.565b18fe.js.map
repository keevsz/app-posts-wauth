{"version":3,"file":"Login.565b18fe.js","sources":["../../src/assets/twitter_icon.png","../../src/pages/Login/components/Login.tsx"],"sourcesContent":["export default \"__VITE_ASSET__1f3b401c__\"","import { Row } from '../../Home/Container'\r\nimport { Icon, IconButton, Text } from '../Usual'\r\nimport {\r\n  Button,\r\n  LoginForm,\r\n  TextInput,\r\n  Title,\r\n} from '../styled-components/LoginForm'\r\nimport { useForm } from 'react-hook-form'\r\nimport useFetchAndLoad from '../../../hooks/useFetchAndLoad'\r\nimport { login } from '../../../services/public.services'\r\nimport { loadUserToLocalStorageAndCookie } from '../../../utilities/handleStorage.utility'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { createUser } from '../../../redux/states/user'\r\nimport { createUserAdapter } from '../../../adapters/user.adapters'\r\nimport Loading from './Loading'\r\n\r\nimport google_icon from '../../../assets/google_icon.png'\r\nimport facebook_icon from '../../../assets/facebook_icon.png'\r\nimport twitter_icon from '../../../assets/twitter_icon.png'\r\n\r\ninterface Props {\r\n  handleForm: () => void\r\n}\r\n\r\ninterface Inputs {\r\n  email: string\r\n  password: string\r\n}\r\nconst Login = ({ handleForm }: Props) => {\r\n  const { loading, callEndpoint } = useFetchAndLoad()\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<Inputs>()\r\n\r\n  const onSubmit = async ({ email, password }: Inputs) => {\r\n    const user = await callEndpoint(login({ email, password }))\r\n    loadUserToLocalStorageAndCookie(user)\r\n    dispatch(createUser(createUserAdapter(user)))\r\n    navigate('/')\r\n  }\r\n\r\n  if (loading) return <Loading></Loading>\r\n\r\n  return (\r\n    <LoginForm autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\r\n      <Title color=\"#278048\">Ingresar</Title>\r\n      <Row>\r\n        <IconButton href=\"http://localhost:5000/api/user/login/google\">\r\n          <Icon\r\n            type={'icon1'}\r\n            width=\"15rem\"\r\n            height=\"1rem\"\r\n            loading=\"eager\"\r\n            alt=\"google_icon\"\r\n            src={google_icon}\r\n          ></Icon>\r\n        </IconButton>\r\n        <IconButton href=\"#\">\r\n          <Icon\r\n            type={'icon1'}\r\n            width=\"15rem\"\r\n            height=\"1rem\"\r\n            loading=\"eager\"\r\n            alt=\"facebook_icon\"\r\n            src={facebook_icon}\r\n          ></Icon>\r\n        </IconButton>\r\n        <IconButton href=\"#\">\r\n          <Icon\r\n            type={'icon1'}\r\n            width=\"15rem\"\r\n            height=\"1rem\"\r\n            loading=\"eager\"\r\n            alt=\"twitter_icon\"\r\n            src={twitter_icon}\r\n          ></Icon>\r\n        </IconButton>\r\n      </Row>\r\n      <TextInput\r\n        placeholder=\"Correo electrónico\"\r\n        {...register('email', {\r\n          required: 'Ingrese email',\r\n          pattern: {\r\n            value:\r\n              /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n            message: 'Email invalido',\r\n          },\r\n        })}\r\n      />\r\n      <TextInput\r\n        type={'password'}\r\n        placeholder=\"Contraseña\"\r\n        {...register('password', {\r\n          required: 'Ingrese contraseña',\r\n        })}\r\n      />\r\n      <Text fontSize=\"1rem\" color=\"gray\">\r\n        Olvidé mi contraseña\r\n      </Text>\r\n      <Row>\r\n        <Button display=\"null\" color=\"#00CC4B\" type=\"submit\">\r\n          Ingresar\r\n        </Button>\r\n        <Button\r\n          display=\"none\"\r\n          onClick={handleForm}\r\n          color=\"#4a4a4abd\"\r\n          type=\"button\"\r\n        >\r\n          Registrarse\r\n        </Button>\r\n      </Row>\r\n    </LoginForm>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"names":["twitter_icon","Login","handleForm","loading","callEndpoint","useFetchAndLoad","navigate","useNavigate","dispatch","useDispatch","register","handleSubmit","formState","errors","useForm","onSubmit","email","password","user","login","loadUserToLocalStorageAndCookie","createUser","createUserAdapter","_jsx","Loading","LoginForm","Title","_jsxs","Row","IconButton","Icon","google_icon","facebook_icon","TextInput","required","pattern","value","message","Text","Button"],"mappings":"sUAAA,MAAeA,EAAA,oCC8BTC,EAAQ,CAAC,CAAEC,WAAAA,CAAkB,IAAM,CACjC,KAAA,CAAEC,QAAAA,EAASC,aAAAA,GAAiBC,EAAiB,EAC7CC,EAAWC,IACXC,EAAWC,IACX,CACJC,SAAAA,EACAC,aAAAA,EACAC,UAAW,CAAEC,OAAAA,CAAO,GAClBC,EAAiB,EAEfC,EAAW,MAAO,CAAEC,MAAAA,EAAOC,SAAAA,CAAAA,IAAuB,CAChDC,MAAAA,EAAO,MAAMd,EAAae,EAAM,CAAEH,MAAAA,EAAOC,SAAAA,CAAU,CAAA,CAAC,EAC1DG,EAAgCF,CAAI,EACpCV,EAASa,EAAWC,EAAkBJ,CAAI,CAAC,CAAC,EAC5CZ,EAAS,GAAG,CAAA,EAGVH,OAAAA,EAAgBoB,EAACC,EAAkB,CAAA,CAAA,IAGpCC,EAAS,CAAC,aAAa,MAAM,SAAUd,EAAaI,CAAQ,EAAE,SAAA,CAC7DQ,EAACG,EAAK,CAAC,MAAM,UAAS,SAAA,UAAA,CAAiB,EACvCC,EAACC,EAAG,CAAA,SAAA,CACFL,EAACM,EAAU,CAAC,KAAK,8CAA6C,WAC3DC,EAAI,CACH,KAAM,QACN,MAAM,QACN,OAAO,OACP,QAAQ,QACR,IAAI,cACJ,IAAKC,CAAAA,CAAY,CAAA,CAER,EACbR,EAACM,EAAU,CAAC,KAAK,IAAG,WACjBC,EAAI,CACH,KAAM,QACN,MAAM,QACN,OAAO,OACP,QAAQ,QACR,IAAI,gBACJ,IAAKE,CAAAA,CAAc,CAAA,CAEV,EACbT,EAACM,EAAU,CAAC,KAAK,IAAG,WACjBC,EAAI,CACH,KAAM,QACN,MAAM,QACN,OAAO,OACP,QAAQ,QACR,IAAI,eACJ,IAAK9B,CAAAA,CAAa,CAAA,CAET,CAAA,CAAA,CACT,EACNuB,EAACU,EAAS,CACR,YAAY,wBAAoB,GAC5BvB,EAAS,QAAS,CACpBwB,SAAU,gBACVC,QAAS,CACPC,MACE,wJACFC,QAAS,gBACX,CAAA,CACD,CAAA,CACD,EACFd,EAACU,EAAS,CACR,KAAM,WACN,YAAY,gBAAY,GACpBvB,EAAS,WAAY,CACvBwB,SAAU,uBAAA,CACX,CAAA,CACD,EACFX,EAACe,EAAI,CAAC,SAAS,OAAO,MAAM,OAAM,SAAA,4BAAA,CAE3B,EACPX,EAACC,EAAG,CAAA,SAAA,CACFL,EAACgB,EAAM,CAAC,QAAQ,OAAO,MAAM,UAAU,KAAK,SAAQ,SAAA,UAAA,CAE3C,EACThB,EAACgB,EAAM,CACL,QAAQ,OACR,QAASrC,EACT,MAAM,YACN,KAAK,SAAQ,SAAA,aAAA,CAGN,CAAA,CAAA,CACL,CAAA,CAAA,CACI,CAEhB"}