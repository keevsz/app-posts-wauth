{"version":3,"file":"Login.6ea352ff.js","sources":["../../src/pages/Login/components/Login.tsx"],"sourcesContent":["import { Text } from '../../../styled-components/Usual'\r\nimport {\r\n  BoxInput,\r\n  Button,\r\n  Form,\r\n  TextInput,\r\n  Title,\r\n  ToolTip,\r\n} from '../styled-components/AuthForm.styled'\r\nimport { useForm } from 'react-hook-form'\r\nimport useFetchAndLoad from '../../../hooks/useFetchAndLoad'\r\nimport { login } from '../../../services/public.services'\r\nimport { loadUserToLocalStorageAndCookie } from '../../../utilities/handleStorage.utility'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { createUser } from '../../../redux/states/user.slice'\r\nimport { createUserAdapter } from '../../../adapters/user.adapters'\r\nimport Loading from '../../../components/Loading'\r\nimport IconSet from './IconSet'\r\nimport { Row } from '@/styled-components'\r\n\r\ninterface Props {\r\n  handleForm: () => void\r\n}\r\n\r\ninterface Inputs {\r\n  email: string\r\n  password: string\r\n}\r\n\r\nconst Login = ({ handleForm }: Props) => {\r\n  const { loading, callEndpoint } = useFetchAndLoad()\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n  } = useForm<Inputs>()\r\n\r\n  const onSubmit = async ({ email, password }: Inputs) => {\r\n    const user = await callEndpoint(login({ email, password }))\r\n    loadUserToLocalStorageAndCookie(user)\r\n    dispatch(createUser(createUserAdapter(user)))\r\n    navigate('/')\r\n  }\r\n\r\n  if (loading) return <Loading></Loading>\r\n  return (\r\n    <Form autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\r\n      <Title color=\"#278048\">Ingresar</Title>\r\n      <IconSet />\r\n      <BoxInput>\r\n        <TextInput\r\n          placeholder=\"Correo electrónico\"\r\n          {...register('email', {\r\n            required: 'Ingrese email',\r\n            pattern: {\r\n              value:\r\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n              message: 'Email invalido',\r\n            },\r\n          })}\r\n        ></TextInput>\r\n        {errors.email && <ToolTip text={errors.email.message}>⚠</ToolTip>}\r\n      </BoxInput>\r\n      <BoxInput>\r\n        <TextInput\r\n          type={'password'}\r\n          placeholder=\"Contraseña\"\r\n          {...register('password', {\r\n            required: 'Ingrese contraseña',\r\n          })}\r\n        />\r\n        {errors.password && <ToolTip text={errors.password.message}>⚠</ToolTip>}\r\n      </BoxInput>\r\n\r\n      <Text fontSize=\"1rem\" color=\"gray\">\r\n        Olvidé mi contraseña\r\n      </Text>\r\n      <Row>\r\n        <Button display=\"\" color=\"#00CC4B\" type=\"submit\">\r\n          Ingresar\r\n        </Button>\r\n        <Button\r\n          display=\"none\"\r\n          onClick={handleForm}\r\n          color=\"#4a4a4abd\"\r\n          type=\"button\"\r\n        >\r\n          Registrarse\r\n        </Button>\r\n      </Row>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"names":["Login","handleForm","loading","callEndpoint","useFetchAndLoad","navigate","useNavigate","dispatch","useDispatch","register","handleSubmit","formState","errors","watch","useForm","onSubmit","email","password","user","login","loadUserToLocalStorageAndCookie","createUser","createUserAdapter","_jsx","Loading","Form","Title","IconSet","BoxInput","TextInput","required","pattern","value","message","ToolTip","_jsxs","Text","Row","Button"],"mappings":"gRA8BA,MAAMA,EAAQ,CAAC,CAAEC,WAAAA,CAAkB,IAAM,CACjC,KAAA,CAAEC,QAAAA,EAASC,aAAAA,GAAiBC,EAAiB,EAC7CC,EAAWC,IACXC,EAAWC,IAEX,CACJC,SAAAA,EACAC,aAAAA,EACAC,UAAW,CAAEC,OAAAA,CAAO,EACpBC,MAAAA,GACEC,EAAiB,EAEfC,EAAW,MAAO,CAAEC,MAAAA,EAAOC,SAAAA,CAAAA,IAAuB,CAChDC,MAAAA,EAAO,MAAMf,EAAagB,EAAM,CAAEH,MAAAA,EAAOC,SAAAA,CAAU,CAAA,CAAC,EAC1DG,EAAgCF,CAAI,EACpCX,EAASc,EAAWC,EAAkBJ,CAAI,CAAC,CAAC,EAC5Cb,EAAS,GAAG,CAAA,EAGVH,OAAAA,EAAgBqB,EAACC,EAAkB,CAAA,CAAA,IAEpCC,EAAI,CAAC,aAAa,MAAM,SAAUf,EAAaK,CAAQ,EAAE,SAAA,CACxDQ,EAACG,EAAK,CAAC,MAAM,UAAS,SAAA,UAAA,CAAA,EACrBH,EAAAI,EAAU,CAAA,CAAA,IACVC,EAAQ,CAAA,SAAA,CACPL,EAACM,EAAS,CACR,YAAY,wBAAoB,GAC5BpB,EAAS,QAAS,CACpBqB,SAAU,gBACVC,QAAS,CACPC,MACE,wJACFC,QAAS,gBACX,CAAA,CACD,CAAC,CAAA,EAEHrB,EAAOI,SAAUkB,EAAO,CAAC,KAAMtB,EAAOI,MAAMiB,QAAQ,SAAA,QAAA,CAAY,CAAA,CAAA,CACxD,EACXE,EAACP,EAAQ,CAAA,SAAA,CACPL,EAACM,EAAS,CACR,KAAM,WACN,YAAY,gBAAY,GACpBpB,EAAS,WAAY,CACvBqB,SAAU,uBAAA,CACX,CAAC,CAAA,EAEHlB,EAAOK,YAAaiB,EAAO,CAAC,KAAMtB,EAAOK,SAASgB,QAAQ,SAAA,QAAA,CAAY,CAAA,CAAA,CAC9D,EAEXV,EAACa,EAAI,CAAC,SAAS,OAAO,MAAM,OAAM,SAAA,4BAAA,CAE3B,EACPD,EAACE,EAAG,CAAA,SAAA,CACFd,EAACe,EAAM,CAAC,QAAQ,GAAG,MAAM,UAAU,KAAK,SAAQ,SAAA,UAAA,CAEvC,EACTf,EAACe,EAAM,CACL,QAAQ,OACR,QAASrC,EACT,MAAM,YACN,KAAK,SAAQ,SAAA,aAAA,CAGN,CAAA,CAAA,CACL,CAAA,CAAA,CACD,CAEX"}